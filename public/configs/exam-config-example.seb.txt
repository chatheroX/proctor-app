
This is an EXAMPLE of what settings your ACTUAL `exam-config.seb` file should contain.
You MUST create your `exam-config.seb` file using the Safe Exam Browser (SEB) Configuration Tool.
Place the generated `exam-config.seb` file in your project at: `public/configs/exam-config.seb`

===============================================================================
CRITICAL: TEST YOUR .SEB FILE SERVING!
===============================================================================
Before troubleshooting SEB client behavior, open this URL in a REGULAR BROWSER:
https://YOUR_APP_DOMAIN/configs/exam-config.seb
(Replace YOUR_APP_DOMAIN with your actual deployed application domain, e.g., https://proctorx.netlify.app)

This URL **MUST** trigger a download of the `exam-config.seb` file.
If it shows your website's 404 page, login page, or any other HTML,
your Netlify (or other hosting) serving configuration for this .seb file is
incorrect, and SEB will fail to load the configuration.
Ensure your `_headers` and `_redirects` files in the `public` directory are
correctly configured and deployed for Netlify to serve `.seb` files with
the `Content-Type: application/seb` or `application/octet-stream`.
===============================================================================

Key Settings to Configure in SEB Configuration Tool for `exam-config.seb`:

1.  **Start URL**:
    *   This is the MOST CRITICAL setting for this flow to work.
    *   Set this to: `https://YOUR_APP_DOMAIN/seb/entry`
    *   Replace `YOUR_APP_DOMAIN` with your actual deployed application domain (e.g., `https://proctorx.netlify.app`).
    *   IMPORTANT: Do NOT add any hash parameters (like #entryToken=...) or query parameters (like ?examId=...) to this Start URL setting *within the SEB Configuration Tool*.
    *   Your web application will launch SEB pointing to this `.seb` file and will append the `#entryToken=...` to the URL *of the .seb file itself*. SEB is designed to then take this hash and append it to the Start URL defined here.

2.  **Browser Exam Key (BEK)**:
    *   Consider generating and using a Browser Exam Key.
    *   Your `/seb/live-test` page can be configured to check for this key via JavaScript if SEB provides an API (advanced).

3.  **Config Key (CK)**:
    *   Consider generating and using a Config Key to ensure the settings haven't been tampered with.
    *   Your `/seb/live-test` page can be configured to check for this.

4.  **Security Settings (In SEB Configuration Tool)**:
    *   **General Tab**:
        *   Enable "Use Browser Exam Key".
        *   Enable "Use Config Key".
    *   **Config File Tab**:
        *   Set an administrator password for editing the SEB settings.
        *   Set a quit password (or allow quitting without password *after* the exam is submitted).
    *   **Browser Tab**:
        *   Enable "Enable JavaScript".
        *   Enable "Enable plug-ins" if your exam content needs them (generally not for web apps).
        *   Disable "Enable Java".
        *   Disable "Block pop-up windows" (or configure allowed pop-ups if your exam legitimately uses them, but your current app flow tries to open the exam in a new window/tab from `initiate` page which is outside SEB initially).
    *   **Exam Tab**:
        *   Enable "Allow quitting SEB" - decide if "using quit password" or "without restriction" (only after exam submission logic).
        *   Configure "Link to quit SEB": `seb://quit` (or `sebs://quit`).
    *   **Network Tab -> URL Filter**:
        *   You might not need extensive URL filtering if using the token-based entry, as the token validates access to the specific exam.
        *   However, you might want to allow your application's domain: `https://YOUR_APP_DOMAIN/*`
    *   **Applications Tab -> Prohibited Processes**:
        *   Add common screen sharing, communication, and virtual machine processes.
    *   **User Interface Tab**:
        *   Customize SEB browser user interface elements (e.g., show/hide reload button, URL bar, etc.). Your app has a "Refresh" button placeholder, so you might allow the SEB reload button or rely on your app's.
    *   **Keys Tab**:
        *   Enable "Enable ESC key to quit" (only if a quit password is set or if quitting is generally allowed).
        *   Enable "Enable Ctrl-Q to quit" (same conditions).
        *   Disable function keys (F1-F12).
        *   Disable right-click (context menu).
        *   Disable Ctrl-Alt-Del, Alt-Tab, Windows/Cmd key, etc.

Remember to save your configuration as `exam-config.seb` and place it in `public/configs/exam-config.seb` in your project.
The JavaScript code in `join-exam/page.tsx` dynamically determines `window.location.origin` and constructs the launch URL for SEB correctly.
The critical part is that the `Start URL` *inside* your generated `exam-config.seb` file points to `https://YOUR_APP_DOMAIN/seb/entry`.
The hash containing the `entryToken` is appended by your web app to the URL of the `.seb` file when launching SEB. SEB should then carry this hash over when it loads the `Start URL` defined within the `.seb` file.
Your `/seb/entry` page (and `SebEntryClient.tsx`) is designed to read this `entryToken` from `window.location.hash`.
